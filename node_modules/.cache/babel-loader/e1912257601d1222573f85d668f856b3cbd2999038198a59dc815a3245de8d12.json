{"ast":null,"code":"var _jsxFileName = \"/Users/joaquinbecerra/Desktop/Proyecto Integrador Prog. III/proyectoreact/src/screens/Series/Series.js\";\nimport React, { Component } from 'react';\nimport CardPelicula from '../../components/CardPelicula/CardPelicula'; // El mismo componente de tarjeta\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass Series extends Component {\n  constructor(props) {\n    super(props);\n    this.obtenerSeries = () => {\n      fetch(`${this.state.urlSeries}&page=${this.state.pagina}`).then(res => res.json()).then(data => {\n        this.setState(prevState => ({\n          series: prevState.series.concat(data.results),\n          seriesFiltradas: prevState.seriesFiltradas.concat(data.results),\n          cargando: false,\n          pagina: prevState.pagina + 1\n        }));\n      }).catch(err => console.log('Error al obtener series:', err));\n    };\n    this.filtrarBusqueda = e => {\n      const inputBuscador = e.target.value;\n      const seriesFiltradas = this.state.series.filter(serie => serie.name.toLowerCase().includes(inputBuscador.toLowerCase()));\n      this.setState({\n        seriesFiltradas: seriesFiltradas,\n        inputBuscador: inputBuscador\n      });\n    };\n    this.state = {\n      series: [],\n      urlSeries: `https://api.themoviedb.org/3/tv/popular?api_key=7f7f8af8dc7e7a53c53410d1521c094f`,\n      cargando: true,\n      pagina: 1,\n      seriesFiltradas: [],\n      // Nuevo array para guardar los resultados del filtro\n      inputBuscador: '' // Nuevo estado para el valor del input\n    };\n  }\n  componentDidMount() {\n    this.obtenerSeries();\n  }\n  render() {\n    const {\n      seriesFiltradas,\n      cargando,\n      inputBuscador\n    } = this.state;\n    if (cargando) {\n      return /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Cargando...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 14\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"alert alert-warning\",\n        children: \"Todas las series\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"filter-form px-0 mb-3\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"filter\",\n          placeholder: \"Buscar dentro de la lista\",\n          value: inputBuscador,\n          onChange: this.filtrarBusqueda\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"row cards all-series\",\n        id: \"series\",\n        children: seriesFiltradas.length > 0 ? seriesFiltradas.map(serie => /*#__PURE__*/_jsxDEV(CardPelicula, {\n          id: serie.id,\n          titulo: serie.name,\n          imagen: serie.poster_path,\n          descripcion: serie.overview,\n          tipo: \"serie\"\n        }, serie.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 15\n        }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No se encontraron series que coincidan.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.obtenerSeries,\n        className: \"btn btn-warning\",\n        children: \"Cargar m\\xE1s\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n}\nexport default Series;","map":{"version":3,"names":["React","Component","CardPelicula","Link","jsxDEV","_jsxDEV","Fragment","_Fragment","Series","constructor","props","obtenerSeries","fetch","state","urlSeries","pagina","then","res","json","data","setState","prevState","series","concat","results","seriesFiltradas","cargando","catch","err","console","log","filtrarBusqueda","e","inputBuscador","target","value","filter","serie","name","toLowerCase","includes","componentDidMount","render","children","fileName","_jsxFileName","lineNumber","columnNumber","className","type","placeholder","onChange","id","length","map","titulo","imagen","poster_path","descripcion","overview","tipo","onClick"],"sources":["/Users/joaquinbecerra/Desktop/Proyecto Integrador Prog. III/proyectoreact/src/screens/Series/Series.js"],"sourcesContent":["import React, { Component } from 'react';\nimport CardPelicula from '../../components/CardPelicula/CardPelicula'; // El mismo componente de tarjeta\nimport { Link } from 'react-router-dom';\n\nclass Series extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      series: [],\n      urlSeries: `https://api.themoviedb.org/3/tv/popular?api_key=7f7f8af8dc7e7a53c53410d1521c094f`,\n      cargando: true,\n      pagina: 1,\n      seriesFiltradas: [], // Nuevo array para guardar los resultados del filtro\n      inputBuscador: '', // Nuevo estado para el valor del input\n    };\n  }\n\n  componentDidMount() {\n    this.obtenerSeries();\n  }\n\n  obtenerSeries = () => {\n    fetch(`${this.state.urlSeries}&page=${this.state.pagina}`)\n      .then(res => res.json())\n      .then(data => {\n        this.setState(prevState => ({\n          series: prevState.series.concat(data.results),\n          seriesFiltradas: prevState.seriesFiltradas.concat(data.results),\n          cargando: false,\n          pagina: prevState.pagina + 1,\n        }));\n      })\n      .catch(err => console.log('Error al obtener series:', err));\n  };\n\n  filtrarBusqueda = (e) => {\n    const inputBuscador = e.target.value;\n    const seriesFiltradas = this.state.series.filter(serie =>\n      serie.name.toLowerCase().includes(inputBuscador.toLowerCase())\n    );\n    this.setState({\n      seriesFiltradas: seriesFiltradas,\n      inputBuscador: inputBuscador,\n    });\n  };\n\n  render() {\n    const { seriesFiltradas, cargando, inputBuscador } = this.state;\n\n    if (cargando) {\n      return <h2>Cargando...</h2>;\n    }\n\n    return (\n      <>\n        <h2 className=\"alert alert-warning\">Todas las series</h2>\n        <form className=\"filter-form px-0 mb-3\">\n          <input \n            type=\"text\" \n            name=\"filter\" \n            placeholder=\"Buscar dentro de la lista\" \n            value={inputBuscador}\n            onChange={this.filtrarBusqueda}\n          />\n        </form>\n        \n\n        <section className=\"row cards all-series\" id=\"series\">\n          {seriesFiltradas.length > 0 ? (\n            seriesFiltradas.map(serie => (\n              <CardPelicula\n                key={serie.id}\n                id={serie.id}\n                titulo={serie.name}\n                imagen={serie.poster_path}\n                descripcion={serie.overview}\n                tipo=\"serie\"\n              />\n            ))\n          ) : (\n            <p>No se encontraron series que coincidan.</p>\n          )}\n        </section>\n        <button onClick={this.obtenerSeries} className=\"btn btn-warning\">Cargar m√°s</button>\n\n      </>\n    );\n  }\n}\n\nexport default Series;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}