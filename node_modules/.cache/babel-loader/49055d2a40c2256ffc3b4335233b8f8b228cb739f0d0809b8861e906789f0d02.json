{"ast":null,"code":"var _jsxFileName = \"/Users/joaquinbecerra/Desktop/Proyecto Integrador Prog. III/proyectoreact/src/components/CardPelicula/CardPelicula.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport '../../styles/styles.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass CardPelicula extends Component {\n  constructor(props) {\n    super(props);\n    this.manejarDescripcion = () => {\n      this.setState(prevState => ({\n        verDescripcion: !prevState.verDescripcion,\n        textoBoton: prevState.verDescripcion ? 'Ver descripción' : 'Ocultar descripción'\n      }));\n    };\n    this.agregarAFavoritos = () => {\n      const {\n        id,\n        titulo,\n        imagen,\n        descripcion,\n        tipo\n      } = this.props;\n      let favoritos = JSON.parse(localStorage.getItem('LSfavoritos')) || [];\n\n      // Verificamos si el item ya está para no duplicarlo\n      const yaEsta = favoritos.filter(item => item.id === id);\n      if (yaEsta.length === 0) {\n        favoritos.push({\n          id,\n          titulo,\n          imagen,\n          descripcion,\n          tipo\n        });\n        localStorage.setItem('LSfavoritos', JSON.stringify(favoritos));\n        this.setState({\n          esFavorito: true\n        });\n      }\n    };\n    this.quitarDeFavoritos = () => {\n      const {\n        id\n      } = this.props;\n      let favoritos = JSON.parse(localStorage.getItem('LSfavoritos')) || [];\n      const favoritosActualizados = favoritos.filter(item => item.id !== id);\n      localStorage.setItem('LSfavoritos', JSON.stringify(favoritosActualizados));\n      this.setState({\n        esFavorito: false\n      });\n    };\n    this.state = {\n      verDescripcion: false,\n      textoBoton: 'Ver descripción',\n      esFavorito: false\n    };\n  }\n  componentDidMount() {\n    const {\n      id\n    } = this.props;\n    let favoritos = JSON.parse(localStorage.getItem('LSfavoritos')) || [];\n    const yaEsta = favoritos.filter(item => item.id === id);\n    if (yaEsta.length > 0) {\n      this.setState({\n        esFavorito: true\n      });\n    }\n  }\n  render() {\n    const {\n      id,\n      titulo,\n      imagen,\n      descripcion,\n      tipo,\n      onEliminar\n    } = this.props;\n    const urlImagen = imagen ? `https://image.tmdb.org/t/p/w500/${imagen}` : null;\n    const corazonClase = this.state.esFavorito ? '♥️' : '♡';\n    return /*#__PURE__*/_jsxDEV(\"article\", {\n      className: \"single-card-movie\",\n      children: [urlImagen ? /*#__PURE__*/_jsxDEV(\"img\", {\n        src: urlImagen,\n        className: \"card-img-top\",\n        alt: titulo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-image\",\n        children: \"Sin imagen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cardBody\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"card-title\",\n          children: titulo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"section-desc\",\n          children: [this.state.verDescripcion && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"card-text\",\n            children: descripcion\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: this.manejarDescripcion,\n            children: this.state.textoBoton\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: `/${tipo}/${id}`,\n            className: \"btn btn-primary\",\n            children: \"Ir a detalle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), this.state.esFavorito ? /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn alert-primary\",\n            onClick: this.quitarDeFavoritos,\n            title: \"Quitar de favoritos\",\n            children: corazonClase\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn alert-primary\",\n            onClick: this.agregarAFavoritos,\n            title: \"Agregar a favoritos\",\n            children: corazonClase\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 15\n          }, this), onEliminar && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn alert-danger\",\n            onClick: () => onEliminar(id),\n            title: \"Borrar de favoritos\",\n            children: \"Borrar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default CardPelicula;","map":{"version":3,"names":["React","Component","Link","jsxDEV","_jsxDEV","CardPelicula","constructor","props","manejarDescripcion","setState","prevState","verDescripcion","textoBoton","agregarAFavoritos","id","titulo","imagen","descripcion","tipo","favoritos","JSON","parse","localStorage","getItem","yaEsta","filter","item","length","push","setItem","stringify","esFavorito","quitarDeFavoritos","favoritosActualizados","state","componentDidMount","render","onEliminar","urlImagen","corazonClase","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onClick","to","title"],"sources":["/Users/joaquinbecerra/Desktop/Proyecto Integrador Prog. III/proyectoreact/src/components/CardPelicula/CardPelicula.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport '../../styles/styles.css';\n\nclass CardPelicula extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      verDescripcion: false,\n      textoBoton: 'Ver descripción',\n      esFavorito: false,\n    };\n  }\n\n  componentDidMount() {\n    const { id } = this.props;\n    let favoritos = JSON.parse(localStorage.getItem('LSfavoritos')) || [];\n    const yaEsta = favoritos.filter(item => item.id === id);\n    if (yaEsta.length > 0) {\n      this.setState({ esFavorito: true });\n    }\n  }\n\n  manejarDescripcion = () => {\n    this.setState(prevState => ({\n      verDescripcion: !prevState.verDescripcion,\n      textoBoton: prevState.verDescripcion ? 'Ver descripción' : 'Ocultar descripción',\n    }));\n  };\n\n  agregarAFavoritos = () => {\n    const { id, titulo, imagen, descripcion, tipo } = this.props;\n    let favoritos = JSON.parse(localStorage.getItem('LSfavoritos')) || [];\n\n    // Verificamos si el item ya está para no duplicarlo\n    const yaEsta = favoritos.filter(item => item.id === id);\n    if (yaEsta.length === 0) {\n      favoritos.push({ id, titulo, imagen, descripcion, tipo });\n      localStorage.setItem('LSfavoritos', JSON.stringify(favoritos));\n      this.setState({ esFavorito: true });\n    }\n  };\n\n  quitarDeFavoritos = () => {\n    const { id } = this.props;\n    let favoritos = JSON.parse(localStorage.getItem('LSfavoritos')) || [];\n    const favoritosActualizados = favoritos.filter(item => item.id !== id);\n    localStorage.setItem('LSfavoritos', JSON.stringify(favoritosActualizados));\n    this.setState({ esFavorito: false });\n  };\n\n  render() {\n    const { id, titulo, imagen, descripcion, tipo, onEliminar } = this.props;\n    const urlImagen = imagen ? `https://image.tmdb.org/t/p/w500/${imagen}` : null;\n    const corazonClase = this.state.esFavorito ? '♥️' : '♡';\n\n    return (\n      <article className=\"single-card-movie\">\n        {urlImagen ? (\n          <img src={urlImagen} className=\"card-img-top\" alt={titulo} />\n        ) : (\n          <div className=\"no-image\">Sin imagen</div>\n        )}\n        <div className=\"cardBody\">\n          <h5 className=\"card-title\">{titulo}</h5>\n          <section className=\"section-desc\">\n            {this.state.verDescripcion && (\n              <p className=\"card-text\">{descripcion}</p>\n            )}\n            <button className=\"btn btn-primary\" onClick={this.manejarDescripcion}>\n              {this.state.textoBoton}\n            </button>\n            <Link to={`/${tipo}/${id}`} className=\"btn btn-primary\">\n              Ir a detalle\n            </Link>\n            {this.state.esFavorito ? (\n              <button className=\"btn alert-primary\" onClick={this.quitarDeFavoritos} title=\"Quitar de favoritos\">\n                {corazonClase}\n              </button>\n            ) : (\n              <button className=\"btn alert-primary\" onClick={this.agregarAFavoritos} title=\"Agregar a favoritos\">\n                {corazonClase}\n              </button>\n            )}\n            {onEliminar && (\n              <button className=\"btn alert-danger\" onClick={() => onEliminar(id)} title=\"Borrar de favoritos\">\n                Borrar\n              </button>\n            )}\n          </section>\n        </div>\n      </article>\n    );\n  }\n}\n\nexport default CardPelicula;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}