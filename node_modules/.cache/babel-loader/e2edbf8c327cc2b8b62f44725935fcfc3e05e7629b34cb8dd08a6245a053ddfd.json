{"ast":null,"code":"var _jsxFileName = \"/Users/joaquinbecerra/Desktop/Proyecto Integrador Prog. III/proyectoreact/src/screens/Home/Home.js\";\nimport React, { Component } from 'react';\nimport CardPelicula from '../../components/CardPelicula/CardPelicula';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.manejarCambios = evento => {\n      this.setState({\n        valorBuscador: evento.target.value\n      });\n    };\n    this.manejarEnvio = evento => {\n      evento.preventDefault();\n      this.props.history.push(`/results?search=${this.state.valorBuscador}`);\n    };\n    this.state = {\n      peliculasPopulares: [],\n      peliculasEnCartelera: [],\n      cargando: true,\n      valorBuscador: ''\n    };\n  }\n  componentDidMount() {\n    const apiKey = '7f7f8af8dc7e7a53c53410d1521c094f';\n    const urlPeliculasPopulares = `https://api.themoviedb.org/3/movie/popular?api_key=${apiKey}`;\n    const urlPeliculasEnCartelera = `https://api.themoviedb.org/3/movie/now_playing?api_key=${apiKey}`;\n\n    // Primera llamada para las películas populares\n    fetch(urlPeliculasPopulares).then(res => res.json()).then(data => {\n      this.setState({\n        peliculasPopulares: data.results.slice(0, 4)\n      });\n\n      // Segunda llamada para las películas en cartelera, después de la primera\n      fetch(urlPeliculasEnCartelera).then(res => res.json()).then(dataEnCartelera => {\n        this.setState({\n          peliculasEnCartelera: dataEnCartelera.results.slice(0, 4),\n          cargando: false // Se establece en falso solo al final de la última llamada\n        });\n      });\n    }).catch(err => console.log('Error al obtener datos:', err));\n  }\n  render() {\n    const {\n      peliculasPopulares,\n      peliculasEnCartelera,\n      cargando\n    } = this.state;\n    if (cargando) {\n      return /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Cargando...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 14\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.manejarEnvio,\n        className: \"search-form\",\n        method: \"get\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"\",\n          name: \"searchData\",\n          placeholder: \"Buscar...\",\n          value: this.state.valorBuscador,\n          onChange: this.manejarCambios\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"alert alert-primary\",\n        children: \"Pel\\xEDculas populares de la semana\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"row cards\",\n        id: \"movies\",\n        children: peliculasPopulares.map(pelicula => /*#__PURE__*/_jsxDEV(CardPelicula, {\n          id: pelicula.id,\n          titulo: pelicula.title,\n          imagen: pelicula.poster_path,\n          descripcion: pelicula.overview,\n          tipo: \"movie\"\n        }, pelicula.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"alert alert-primary\",\n        children: \"Pel\\xEDculas en cartelera\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"row cards\",\n        id: \"now-playing\",\n        children: peliculasEnCartelera.map(pelicula => /*#__PURE__*/_jsxDEV(CardPelicula, {\n          id: pelicula.id,\n          titulo: pelicula.title,\n          imagen: pelicula.poster_path,\n          descripcion: pelicula.overview,\n          tipo: \"movie\"\n        }, pelicula.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n}\nexport default Home;","map":{"version":3,"names":["React","Component","CardPelicula","Link","jsxDEV","_jsxDEV","Fragment","_Fragment","Home","constructor","props","manejarCambios","evento","setState","valorBuscador","target","value","manejarEnvio","preventDefault","history","push","state","peliculasPopulares","peliculasEnCartelera","cargando","componentDidMount","apiKey","urlPeliculasPopulares","urlPeliculasEnCartelera","fetch","then","res","json","data","results","slice","dataEnCartelera","catch","err","console","log","render","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","className","method","type","name","placeholder","onChange","id","map","pelicula","titulo","title","imagen","poster_path","descripcion","overview","tipo"],"sources":["/Users/joaquinbecerra/Desktop/Proyecto Integrador Prog. III/proyectoreact/src/screens/Home/Home.js"],"sourcesContent":["import React, { Component } from 'react';\nimport CardPelicula from '../../components/CardPelicula/CardPelicula';\nimport { Link } from 'react-router-dom';\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      peliculasPopulares: [],\n      peliculasEnCartelera: [],\n      cargando: true,\n      valorBuscador: '',\n    };\n  }\n\n  componentDidMount() {\n    const apiKey = '7f7f8af8dc7e7a53c53410d1521c094f'; \n\n    const urlPeliculasPopulares = `https://api.themoviedb.org/3/movie/popular?api_key=${apiKey}`;\n    const urlPeliculasEnCartelera = `https://api.themoviedb.org/3/movie/now_playing?api_key=${apiKey}`;\n\n    // Primera llamada para las películas populares\n    fetch(urlPeliculasPopulares)\n      .then(res => res.json())\n      .then(data => {\n        this.setState({\n          peliculasPopulares: data.results.slice(0, 4),\n        });\n\n        // Segunda llamada para las películas en cartelera, después de la primera\n        fetch(urlPeliculasEnCartelera)\n          .then(res => res.json())\n          .then(dataEnCartelera => {\n            this.setState({\n              peliculasEnCartelera: dataEnCartelera.results.slice(0, 4),\n              cargando: false, // Se establece en falso solo al final de la última llamada\n            });\n          });\n      })\n      .catch(err => console.log('Error al obtener datos:', err));\n  }\n  \n  manejarCambios = (evento) => {\n    this.setState({ valorBuscador: evento.target.value });\n  };\n  \n  manejarEnvio = (evento) => {\n    evento.preventDefault();\n    this.props.history.push(`/results?search=${this.state.valorBuscador}`);\n  };\n\n  render() {\n    const { peliculasPopulares, peliculasEnCartelera, cargando } = this.state;\n\n    if (cargando) {\n      return <h2>Cargando...</h2>;\n    }\n\n    return (\n      <>\n        <form onSubmit={this.manejarEnvio} className=\"search-form\" method=\"get\">\n          <input \n            type=\"text\" \n            className=\"\" \n            name=\"searchData\" \n            placeholder=\"Buscar...\" \n            value={this.state.valorBuscador}\n            onChange={this.manejarCambios}\n          />\n        </form>\n\n        <h2 className=\"alert alert-primary\">Películas populares de la semana</h2>\n        <section className=\"row cards\" id=\"movies\">\n          {peliculasPopulares.map(pelicula => (\n            <CardPelicula \n              key={pelicula.id}\n              id={pelicula.id}\n              titulo={pelicula.title}\n              imagen={pelicula.poster_path}\n              descripcion={pelicula.overview}\n              tipo=\"movie\"\n            />\n          ))}\n        </section>\n\n        <h2 className=\"alert alert-primary\">Películas en cartelera</h2>\n        <section className=\"row cards\" id=\"now-playing\">\n          {peliculasEnCartelera.map(pelicula => (\n            <CardPelicula \n              key={pelicula.id}\n              id={pelicula.id}\n              titulo={pelicula.title}\n              imagen={pelicula.poster_path}\n              descripcion={pelicula.overview}\n              tipo=\"movie\"\n            />\n          ))}\n        </section>\n      </>\n    );\n  }\n}\n\nexport default Home;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}