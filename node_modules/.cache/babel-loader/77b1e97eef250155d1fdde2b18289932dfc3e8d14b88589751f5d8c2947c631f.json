{"ast":null,"code":"var _jsxFileName = \"/Users/joaquinbecerra/Desktop/Proyecto Integrador Prog. III/proyectoreact/src/screens/Movies/Movies.js\";\nimport React, { Component } from 'react';\nimport CardPelicula from '../components/CardPelicula';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass Movies extends Component {\n  constructor(props) {\n    super(props);\n    this.obtenerPeliculas = () => {\n      const apiKey = 'TU_API_KEY_AQUI';\n      const url = `https://api.themoviedb.org/3/movie/popular?api_key=${apiKey}&page=${this.state.pagina}`;\n      fetch(url).then(res => res.json()).then(data => {\n        this.setState(prevState => ({\n          peliculas: prevState.peliculas.concat(data.results),\n          cargando: false,\n          pagina: prevState.pagina + 1\n        }));\n      }).catch(err => console.log('Error al obtener películas:', err));\n    };\n    // Nuevo método para manejar los cambios en el input de filtro\n    this.manejarFiltro = evento => {\n      this.setState({\n        valorFiltro: evento.target.value\n      });\n    };\n    this.state = {\n      peliculas: [],\n      pagina: 1,\n      cargando: true,\n      valorFiltro: '' // Nuevo estado para el input de filtro\n    };\n  }\n  componentDidMount() {\n    this.obtenerPeliculas();\n  }\n  render() {\n    const {\n      peliculas,\n      cargando,\n      valorFiltro\n    } = this.state;\n\n    // Filtramos las películas en base al valor del input\n    const peliculasFiltradas = peliculas.filter(pelicula => {\n      // Verificamos si la película tiene un título y si este incluye el texto del filtro\n      return pelicula.title.toLowerCase().includes(valorFiltro.toLowerCase());\n    });\n    if (cargando) {\n      return /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Cargando...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 14\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"alert alert-primary\",\n        children: \"Todas las pel\\xEDculas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"filter-form px-0 mb-3\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"filter\",\n          placeholder: \"Buscar dentro de la lista\",\n          value: valorFiltro,\n          onChange: this.manejarFiltro // El evento onChange llama a nuestro método\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.obtenerPeliculas,\n        className: \"btn btn-info\",\n        children: \"Cargar m\\xE1s\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"row cards all-movies\",\n        children: peliculasFiltradas.length > 0 ? peliculasFiltradas.map(pelicula => /*#__PURE__*/_jsxDEV(CardPelicula, {\n          id: pelicula.id,\n          titulo: pelicula.title,\n          imagen: pelicula.poster_path,\n          descripcion: pelicula.overview,\n          tipo: \"movie\"\n        }, pelicula.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 15\n        }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No se encontraron pel\\xEDculas que coincidan con el filtro.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n}\nexport default Movies;","map":{"version":3,"names":["React","Component","CardPelicula","jsxDEV","_jsxDEV","Fragment","_Fragment","Movies","constructor","props","obtenerPeliculas","apiKey","url","state","pagina","fetch","then","res","json","data","setState","prevState","peliculas","concat","results","cargando","catch","err","console","log","manejarFiltro","evento","valorFiltro","target","value","componentDidMount","render","peliculasFiltradas","filter","pelicula","title","toLowerCase","includes","children","fileName","_jsxFileName","lineNumber","columnNumber","className","type","name","placeholder","onChange","onClick","length","map","id","titulo","imagen","poster_path","descripcion","overview","tipo"],"sources":["/Users/joaquinbecerra/Desktop/Proyecto Integrador Prog. III/proyectoreact/src/screens/Movies/Movies.js"],"sourcesContent":["import React, { Component } from 'react';\nimport CardPelicula from '../components/CardPelicula';\n\nclass Movies extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      peliculas: [],\n      pagina: 1,\n      cargando: true,\n      valorFiltro: '', // Nuevo estado para el input de filtro\n    };\n  }\n\n  componentDidMount() {\n    this.obtenerPeliculas();\n  }\n\n  obtenerPeliculas = () => {\n    const apiKey = 'TU_API_KEY_AQUI'; \n    const url = `https://api.themoviedb.org/3/movie/popular?api_key=${apiKey}&page=${this.state.pagina}`;\n\n    fetch(url)\n      .then(res => res.json())\n      .then(data => {\n        this.setState(prevState => ({\n          peliculas: prevState.peliculas.concat(data.results),\n          cargando: false,\n          pagina: prevState.pagina + 1,\n        }));\n      })\n      .catch(err => console.log('Error al obtener películas:', err));\n  };\n\n  // Nuevo método para manejar los cambios en el input de filtro\n  manejarFiltro = (evento) => {\n    this.setState({ valorFiltro: evento.target.value });\n  };\n\n  render() {\n    const { peliculas, cargando, valorFiltro } = this.state;\n    \n    // Filtramos las películas en base al valor del input\n    const peliculasFiltradas = peliculas.filter(pelicula => {\n      // Verificamos si la película tiene un título y si este incluye el texto del filtro\n      return pelicula.title.toLowerCase().includes(valorFiltro.toLowerCase());\n    });\n\n    if (cargando) {\n      return <h2>Cargando...</h2>;\n    }\n\n    return (\n      <>\n        <h2 className=\"alert alert-primary\">Todas las películas</h2>\n        <form className=\"filter-form px-0 mb-3\">\n          <input \n            type=\"text\" \n            name=\"filter\" \n            placeholder=\"Buscar dentro de la lista\"\n            value={valorFiltro}\n            onChange={this.manejarFiltro} // El evento onChange llama a nuestro método\n          />\n        </form>\n        \n        <button onClick={this.obtenerPeliculas} className=\"btn btn-info\">Cargar más</button>\n\n        <section className=\"row cards all-movies\">\n          {peliculasFiltradas.length > 0 ? (\n            peliculasFiltradas.map(pelicula => (\n              <CardPelicula\n                key={pelicula.id}\n                id={pelicula.id}\n                titulo={pelicula.title}\n                imagen={pelicula.poster_path}\n                descripcion={pelicula.overview}\n                tipo=\"movie\"\n              />\n            ))\n          ) : (\n            <p>No se encontraron películas que coincidan con el filtro.</p>\n          )}\n        </section>\n      </>\n    );\n  }\n}\n\nexport default Movies;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}