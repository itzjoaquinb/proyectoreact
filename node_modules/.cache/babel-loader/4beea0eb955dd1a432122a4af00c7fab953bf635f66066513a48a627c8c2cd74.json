{"ast":null,"code":"var _jsxFileName = \"/Users/joaquinbecerra/Desktop/Proyecto Integrador Prog. III/proyectoreact/src/screens/MovieDetail/MovieDetail.js\";\nimport React, { Component } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass MovieDetail extends Component {\n  constructor(props) {\n    super(props);\n    this.agregarAFavoritos = () => {\n      const id = this.props.id;\n      let favoritos = [];\n      let datosEnLocalStorage = localStorage.getItem('LSfavoritos');\n      if (datosEnLocalStorage != null) {\n        favoritos = JSON.parse(datosEnLocalStorage);\n      }\n      const yaEsta = favoritos.filter(function (unID) {\n        return unID === id;\n      });\n      if (yaEsta.length === 0) {\n        favoritos.push(id);\n        localStorage.setItem('LSfavoritos', JSON.stringify(favoritos));\n        this.setState({\n          esFavorito: true\n        });\n      }\n    };\n    this.quitarDeFavoritos = () => {\n      const id = this.props.id;\n      let favoritos = [];\n      let datosEnLocalStorage = localStorage.getItem('LSfavoritos');\n      if (datosEnLocalStorage != null) {\n        favoritos = JSON.parse(datosEnLocalStorage);\n      }\n      const favoritosActualizados = favoritos.filter(function (unID) {\n        return unID !== id;\n      });\n      localStorage.setItem('LSfavoritos', JSON.stringify(favoritosActualizados));\n      this.setState({\n        esFavorito: false\n      });\n    };\n    this.state = {\n      pelicula: {},\n      cargando: true\n    };\n  }\n  componentDidMount() {\n    const apiKey = '7f7f8af8dc7e7a53c53410d1521c094f';\n    const id = this.props.match.params.id;\n    const url = `https://api.themoviedb.org/3/movie/${id}?api_key=${apiKey}`;\n    fetch(url).then(res => res.json()).then(data => {\n      this.setState({\n        pelicula: data,\n        cargando: false\n      });\n    }).catch(err => console.log('Error al obtener datos de la película:', err));\n  }\n  render() {\n    const {\n      pelicula,\n      cargando\n    } = this.state;\n    if (cargando) return /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Cargando...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 26\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"detail-movie\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"col-md-6\",\n        src: `https://image.tmdb.org/t/p/w500/${pelicula.poster_path}`,\n        alt: pelicula.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"detail-movieadad\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Descripci\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"alert alert-primary\",\n          children: pelicula.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"description\",\n          children: pelicula.overview\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          id: \"release-date\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Fecha de estreno:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 32\n          }, this), \" \", pelicula.release_date]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          id: \"runtime\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Duraci\\xF3n:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this), \" \", pelicula.runtime, \" Minutos\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          id: \"votes\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Puntuaci\\xF3n:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this), \" \", pelicula.vote_average, \" / 10\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          id: \"genres\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"G\\xE9neros:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 26\n          }, this), \" \", pelicula.genres.map(g => g.name).join(', ')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), this.state.esFavorito ? /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn alert-primary\",\n        onClick: this.quitarDeFavoritos,\n        title: \"Quitar de favoritos\",\n        children: \"\\u2665\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 15\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn alert-primary\",\n        onClick: this.agregarAFavoritos,\n        title: \"Agregar a favoritos\",\n        children: \"\\u2661\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default MovieDetail;","map":{"version":3,"names":["React","Component","jsxDEV","_jsxDEV","MovieDetail","constructor","props","agregarAFavoritos","id","favoritos","datosEnLocalStorage","localStorage","getItem","JSON","parse","yaEsta","filter","unID","length","push","setItem","stringify","setState","esFavorito","quitarDeFavoritos","favoritosActualizados","state","pelicula","cargando","componentDidMount","apiKey","match","params","url","fetch","then","res","json","data","catch","err","console","log","render","children","fileName","_jsxFileName","lineNumber","columnNumber","className","src","poster_path","alt","title","overview","release_date","runtime","vote_average","genres","map","g","name","join","onClick"],"sources":["/Users/joaquinbecerra/Desktop/Proyecto Integrador Prog. III/proyectoreact/src/screens/MovieDetail/MovieDetail.js"],"sourcesContent":["import React, { Component } from 'react';\n\nclass MovieDetail extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pelicula: {},\n      cargando: true,\n    };\n  }\n\n  componentDidMount() {\n    const apiKey = '7f7f8af8dc7e7a53c53410d1521c094f';\n    const id = this.props.match.params.id;\n    const url = `https://api.themoviedb.org/3/movie/${id}?api_key=${apiKey}`;\n\n    fetch(url)\n      .then(res => res.json())\n      .then(data => {\n        this.setState({\n          pelicula: data,\n          cargando: false,\n        });\n      })\n      .catch(err => console.log('Error al obtener datos de la película:', err));\n  }\n\n    agregarAFavoritos = () => {\n    const id = this.props.id;\n\n    let favoritos = [];\n    let datosEnLocalStorage = localStorage.getItem('LSfavoritos');\n    if (datosEnLocalStorage != null) {\n      favoritos = JSON.parse(datosEnLocalStorage);\n    }\n\n    const yaEsta = favoritos.filter(function (unID) { return unID === id; });\n    if (yaEsta.length === 0) {\n      favoritos.push(id); \n      localStorage.setItem('LSfavoritos', JSON.stringify(favoritos));\n      this.setState({ esFavorito: true }); \n    }\n  };\n\n  quitarDeFavoritos = () => {\n    const id = this.props.id;\n\n    let favoritos = [];\n    let datosEnLocalStorage = localStorage.getItem('LSfavoritos');\n    if (datosEnLocalStorage != null) {\n      favoritos = JSON.parse(datosEnLocalStorage);\n    }\n\n    const favoritosActualizados = favoritos.filter(function (unID) { return unID !== id; });\n    localStorage.setItem('LSfavoritos', JSON.stringify(favoritosActualizados));\n    this.setState({ esFavorito: false });\n  };\n\n  render() {\n    const { pelicula, cargando } = this.state;\n\n    if (cargando) return <h2>Cargando...</h2>;\n\n    return (\n      <section className=\"detail-movie\">\n        <img className=\"col-md-6\" src={`https://image.tmdb.org/t/p/w500/${pelicula.poster_path}`} alt={pelicula.title} />\n        <section className=\"detail-movieadad\">\n          <h3>Descripción</h3>\n          <h2 className=\"alert alert-primary\">{pelicula.title}</h2>\n          <p className=\"description\">{pelicula.overview}</p>\n          <p id=\"release-date\"><strong>Fecha de estreno:</strong> {pelicula.release_date}</p>\n        <p id=\"runtime\"><strong>Duración:</strong> {pelicula.runtime} Minutos</p>\n          <p id=\"votes\"><strong>Puntuación:</strong> {pelicula.vote_average} / 10</p>\n          <p id=\"genres\"><strong>Géneros:</strong> {pelicula.genres.map(g => g.name).join(', ')}</p>\n        </section>\n          {this.state.esFavorito ? (\n              <button className=\"btn alert-primary\" onClick={this.quitarDeFavoritos} title=\"Quitar de favoritos\">\n                ♥️\n              </button>\n            ) : (\n              <button className=\"btn alert-primary\" onClick={this.agregarAFavoritos} title=\"Agregar a favoritos\">\n                ♡\n              </button>\n            )}\n      </section>\n    );\n  }\n}\n\nexport default MovieDetail;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}